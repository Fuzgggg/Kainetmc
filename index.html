<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>KaiNetworkMC</title>
  <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;700&display=swap" rel="stylesheet">
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>
  <style>
    :root {
      --primary: #0ff;
      --bg-dark: #050d1a;
      --bg-light: #ecf5ff;
      --text-dark: #ffffff;
      --text-light: #111;
    }
    * { box-sizing: border-box; font-family: 'Rubik', sans-serif; transition: 0.3s ease; }
    body {
      margin: 0;
      background: var(--bg-dark);
      color: var(--text-dark);
    }
    body.light {
      background: var(--bg-light);
      color: var(--text-light);
    }
    header {
      text-align: center;
      padding: 2rem 1rem;
      background: linear-gradient(135deg, #00c3ff, #0ff);
      color: #000;
      position: relative;
    }
    .mode-toggle {
      position: absolute;
      top: 20px; right: 20px;
      background: var(--primary);
      color: #000;
      border: none;
      padding: 0.6rem 1rem;
      border-radius: 8px;
      cursor: pointer;
      font-weight: bold;
    }
    .join-btn {
      background: var(--primary);
      padding: 1rem 2rem;
      border-radius: 10px;
      font-weight: bold;
      cursor: pointer;
      border: none;
      box-shadow: 0 0 15px rgba(0,255,255,0.4);
    }
    .join-btn:hover { transform: scale(1.05); }
    .section {
      max-width: 800px;
      margin: auto;
      padding: 2rem 1.5rem;
    }
    .rank-list {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 1.5rem;
      margin-top: 2rem;
    }
    .rank-card {
      background: rgba(255,255,255,0.05);
      border: 2px solid var(--primary);
      border-radius: 12px;
      padding: 1rem;
      box-shadow: 0 0 15px rgba(0,255,255,0.1);
      backdrop-filter: blur(10px);
    }
    body.light .rank-card {
      background: rgba(0,0,0,0.04);
      border-color: #00aaff;
    }
    form, .comments {
      background: rgba(255,255,255,0.04);
      padding: 2rem;
      border-radius: 10px;
      margin-top: 2rem;
      backdrop-filter: blur(10px);
    }
    input, select, textarea, button {
      width: 100%;
      padding: 0.9rem;
      margin: 0.7rem 0;
      border-radius: 8px;
      border: none;
      font-size: 1rem;
    }
    button {
      background: var(--primary);
      color: #000;
      font-weight: bold;
      cursor: pointer;
    }
    button:hover {
      transform: scale(1.03);
      opacity: 0.95;
    }
    .comment-item {
      background: rgba(255,255,255,0.05);
      border-left: 4px solid var(--primary);
      padding: 1rem 1.2rem;
      margin: 1rem 0;
      border-radius: 12px;
      box-shadow: 0 2px 10px rgba(0,255,255,0.1);
    }
    body.light .comment-item {
      background: rgba(0,0,0,0.04);
      border-left-color: #00c3ff;
    }
    .comment-item:hover { transform: scale(1.02); }
    .comment-item .pesan { display: block; margin: 0.5rem 0; }
    .comment-item button {
      background: var(--primary);
      color: #000;
      padding: 0.4rem 0.8rem;
      border-radius: 6px;
      margin-right: 0.5rem;
      border: none;
      font-size: 0.9rem;
      cursor: pointer;
    }
    #welcome-bubble {
      position: fixed;
      bottom: 20px; left: 20px;
      background: var(--primary);
      color: #000;
      padding: 1rem 1.2rem;
      border-radius: 16px;
      font-weight: bold;
      box-shadow: 0 4px 16px rgba(0,255,255,0.2);
      z-index: 9999;
      animation: fadeBubble 0.4s ease, bubbleHide 6s forwards;
    }
    @keyframes fadeBubble {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    @keyframes bubbleHide {
      0% { opacity: 1; }
      80% { opacity: 1; }
      100% { opacity: 0; display: none; }
    }
  </style>
</head>
<body>

  <header>
    <h1>KaiNetworkMC</h1>
    <p>IP: <strong>play.kainetworkmc.xyz</strong> | Port: <strong>25450</strong></p>
    <button class="join-btn" onclick="window.open('minecraft://?addExternalServer=KaiNetworkMC|play.kainetworkmc.xyz:25450')">üöÄ Join Now</button>
    <button class="mode-toggle" onclick="toggleMode()">üí° Ganti Mode</button>
  </header>

  <div id="welcome-bubble">üëã Selamat Datang di <strong>KaiNetworkMC</strong>!</div>

  <section class="section">
    <h2>üéñÔ∏è Daftar Rank</h2>
    <div class="rank-list">
      <div class="rank-card"><h3>ü•â VIP ‚Äì 15K</h3><p>/feed, /fly, /heal, /mine reset<br>Bonus: 100K</p></div>
      <div class="rank-card"><h3>üéñ MVP ‚Äì 25K</h3><p>/fly, /v, /rename, /mine reset<br>Bonus: 500K</p></div>
      <div class="rank-card"><h3>üèÜ LEGENDS ‚Äì 40K</h3><p>/bc, /nick, /rename, /v<br>Bonus: 1JT</p></div>
      <div class="rank-card"><h3>üí† KAISTRONG ‚Äì 100K</h3><p>All Commands + /sizeUI, /tp<br>Bonus: 5JT</p></div>
      <div class="rank-card"><h3>üå∏ GLORY ‚Äì 200K</h3><p>Full Commands + /repair, /timeUI<br>Bonus: 10JT</p></div>
    </div>

    <form onsubmit="return kirimWA()">
      <h2>üõçÔ∏è Formulir Pembelian</h2>
      <select id="rank" required>
        <option value="">Pilih Rank</option>
        <option value="VIP">VIP</option>
        <option value="MVP">MVP</option>
        <option value="LEGENDS">LEGENDS</option>
        <option value="KAISTRONG">KAISTRONG</option>
        <option value="GLORY">GLORY</option>
      </select>
      <input type="text" id="player" placeholder="Nama Player Minecraft" required>
      <select id="bayar" required>
        <option value="">Metode Pembayaran</option>
        <option value="Dana">Dana</option>
        <option value="Gopay">Gopay</option>
        <option value="ShopeePay">ShopeePay</option>
        <option value="OVO">OVO</option>
        <option value="QRIS">QRIS</option>
      </select>
      <button type="submit">üí¨ Beli Sekarang via WhatsApp</button>
    </form>

    <div class="comments">
      <h2>üí¨ Komentar Pengunjung</h2>
      <input type="text" id="nama" placeholder="Nama (opsional)">
      <textarea id="pesan" rows="3" placeholder="Tulis komentar kamu..."></textarea>
      <button onclick="kirimKomentar()">Kirim Komentar</button>
      <div id="daftarKomentar"></div>
    </div>
  </section>

  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyCf2cQuukQwHfgApcRr4NTF4xRu4wdIyqQ",
      authDomain: "kainetworkmc.firebaseapp.com",
      databaseURL: "https://kainetworkmc-default-rtdb.asia-southeast1.firebasedatabase.app",
      projectId: "kainetworkmc",
      storageBucket: "kainetworkmc.appspot.com",
      messagingSenderId: "751130541611",
      appId: "1:751130541611:web:f2b2df86d48623d65cb46e"
    };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    function kirimWA() {
      const rank = document.getElementById("rank").value;
      const player = document.getElementById("player").value;
      const bayar = document.getElementById("bayar").value;
      if (!rank || !player || !bayar) {
        alert("Lengkapi formulir terlebih dahulu!");
        return false;
      }
      const msg = `Halo Admin, saya ingin beli Rank *${rank}* untuk player *${player}*. Pembayaran via *${bayar}*.`;
      window.open(`https://wa.me/6281252768236?text=${encodeURIComponent(msg)}`, "_blank");
      return false;
    }

    function kirimKomentar() {
      const nama = document.getElementById("nama").value || "Anonim";
      const pesan = document.getElementById("pesan").value.trim();
      if (!pesan) return;
      const ref = db.ref("komentar").push();
      ref.set({ nama, pesan, waktu: Date.now() });
      document.getElementById("pesan").value = "";
    }

    function tampilKomentar() {
      const box = document.getElementById("daftarKomentar");
      db.ref("komentar").on("value", snapshot => {
        box.innerHTML = "";
        const data = snapshot.val();
        if (!data) return;
        const keys = Object.keys(data).reverse();
        keys.forEach(id => {
          const k = data[id];
          box.innerHTML += `
            <div class="comment-item" data-id="${id}">
              <strong>${k.nama}</strong>
              <span class="pesan">${k.pesan}</span><br>
              <button onclick="editKomentar('${id}')">‚úèÔ∏è Edit</button>
              <button onclick="hapusKomentar('${id}')">üóëÔ∏è Hapus</button>
            </div>`;
        });
      });
    }

    function hapusKomentar(id) {
      if (confirm("Yakin ingin menghapus komentar ini?")) {
        db.ref("komentar/" + id).remove();
      }
    }

    function editKomentar(id) {
      const teks = document.querySelector(`.comment-item[data-id="${id}"] .pesan`).textContent;
      const hasil = prompt("Edit komentar:", teks);
      if (hasil !== null) {
        db.ref("komentar/" + id).update({ pesan: hasil });
      }
    }

    function toggleMode() {
      const body = document.body;
      body.classList.toggle("light");
      localStorage.setItem("mode", body.classList.contains("light") ? "light" : "dark");
    }

    (function () {
      const mode = localStorage.getItem("mode");
      if (mode === "light") document.body.classList.add("light");
      tampilKomentar();
    })();
  </script>

</body>
</html>
