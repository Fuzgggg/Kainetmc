<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>KaiNetworkMC</title>
  <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;700&display=swap" rel="stylesheet">
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>
  <style>
    * { box-sizing: border-box; font-family: 'Rubik', sans-serif; }
    body {
      margin: 0;
      background: linear-gradient(to bottom, #050d1a, #0c1b2e);
      color: #fff;
      padding: 0;
      transition: background 0.5s, color 0.5s;
    }
    header {
      text-align: center;
      padding: 2rem 1rem;
      background: linear-gradient(135deg, #00c3ff, #0ff);
      color: #000;
    }
    .join-btn {
      background: #0ff;
      padding: 1rem 2rem;
      border-radius: 10px;
      font-weight: bold;
      cursor: pointer;
      border: none;
      box-shadow: 0 0 15px rgba(0,255,255,0.4);
      transition: transform 0.3s ease;
    }
    .join-btn:hover { transform: scale(1.05); }

    .section { max-width: 800px; margin: auto; padding: 2rem 1.5rem; }
    .rank-list {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 1.5rem;
      margin-top: 2rem;
    }
    .rank-card {
      background: #131a2f;
      border: 2px solid #00fcd1;
      border-radius: 12px;
      padding: 1rem;
      box-shadow: 0 0 15px rgba(0,255,255,0.15);
      transition: transform 0.3s ease;
    }
    .rank-card:hover { transform: scale(1.05); }

    form, .comments {
      background: rgba(255,255,255,0.04);
      padding: 2rem;
      border-radius: 10px;
      margin-top: 2rem;
    }

    input, select, textarea, button {
      width: 100%;
      padding: 0.9rem;
      margin: 0.7rem 0;
      border-radius: 8px;
      border: none;
      font-size: 1rem;
    }

    button {
      background: #00fcd1;
      color: #000;
      font-weight: bold;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    button:hover {
      background: #0ff;
      transform: scale(1.03);
    }

    .comment-item {
      background: #1c1e2e;
      padding: 1rem;
      border-radius: 8px;
      margin-top: 0.5rem;
    }

    .comment-item button {
      width: auto;
      padding: 0.4rem 0.8rem;
      margin: 0.3rem 0.3rem 0 0;
      font-size: 0.9rem;
      background: #0ff;
    }
  </style>
</head>
<body>

  <header>
    <h1>KaiNetworkMC</h1>
    <p>IP: <strong>play.kainetworkmc.xyz</strong> | Port: <strong>25450</strong></p>
    <button class="join-btn" onclick="window.open('minecraft://?addExternalServer=KaiNetworkMC|play.kainetworkmc.xyz:25450')">🚀 Join Now</button>
  </header>

  <section class="section">
    <h2>🎖️ Daftar Rank</h2>
    <div class="rank-list">
      <div class="rank-card"><h3>🥉 VIP – 15K</h3><p>/feed, /fly, /heal, /mine reset<br>Bonus: 100K</p></div>
      <div class="rank-card"><h3>🎖 MVP – 25K</h3><p>/fly, /v, /rename, /mine reset<br>Bonus: 500K</p></div>
      <div class="rank-card"><h3>🏆 LEGENDS – 40K</h3><p>/bc, /nick, /rename, /v<br>Bonus: 1JT</p></div>
      <div class="rank-card"><h3>💠 KAISTRONG – 100K</h3><p>All Commands + /sizeUI, /tp<br>Bonus: 5JT</p></div>
      <div class="rank-card"><h3>🌸 GLORY – 200K</h3><p>Full Commands + /repair, /timeUI<br>Bonus: 10JT</p></div>
    </div>

    <form onsubmit="return kirimWA()">
      <h2>🛍️ Formulir Pembelian</h2>
      <select id="rank" required>
        <option value="">Pilih Rank</option>
        <option value="VIP">VIP</option>
        <option value="MVP">MVP</option>
        <option value="LEGENDS">LEGENDS</option>
        <option value="KAISTRONG">KAISTRONG</option>
        <option value="GLORY">GLORY</option>
      </select>
      <input type="text" id="player" placeholder="Nama Player Minecraft" required>
      <select id="bayar" required>
        <option value="">Metode Pembayaran</option>
        <option value="Dana">Dana</option>
        <option value="Gopay">Gopay</option>
        <option value="ShopeePay">ShopeePay</option>
        <option value="OVO">OVO</option>
        <option value="QRIS">QRIS</option>
      </select>
      <button type="submit">💬 Beli Sekarang via WhatsApp</button>
    </form>

    <div class="comments">
      <h2>💬 Komentar Pengunjung</h2>
      <input type="text" id="nama" placeholder="Nama (opsional)">
      <textarea id="pesan" rows="3" placeholder="Tulis komentar kamu..."></textarea>
      <button onclick="kirimKomentar()">Kirim Komentar</button>
      <div id="daftarKomentar"></div>
    </div>
  </section>

  <script>
    // Konfigurasi Firebase
    const firebaseConfig = {
      apiKey: "AIzaSyCf2cQuukQwHfgApcRr4NTF4xRu4wdIyqQ",
      authDomain: "kainetworkmc.firebaseapp.com",
      databaseURL: "https://kainetworkmc-default-rtdb.asia-southeast1.firebasedatabase.app",
      projectId: "kainetworkmc",
      storageBucket: "kainetworkmc.firebasestorage.app",
      messagingSenderId: "751130541611",
      appId: "1:751130541611:web:f2b2df86d48623d65cb46e",
      measurementId: "G-ZKJ85K24YD"
    };

    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    function kirimWA() {
      const rank = document.getElementById("rank").value;
      const player = document.getElementById("player").value;
      const bayar = document.getElementById("bayar").value;
      if (!rank || !player || !bayar) {
        alert("Lengkapi formulir terlebih dahulu!");
        return false;
      }
      const msg = `Halo Admin, saya ingin beli Rank *${rank}* untuk player *${player}*. Pembayaran via *${bayar}*.`;
      window.open(`https://wa.me/6281252768236?text=${encodeURIComponent(msg)}`, "_blank");
      return false;
    }

    function kirimKomentar() {
      const nama = document.getElementById("nama").value || "Anonim";
      const pesan = document.getElementById("pesan").value.trim();
      if (!pesan) return;
      const ref = db.ref("komentar").push();
      ref.set({ nama, pesan, waktu: Date.now() });
      document.getElementById("pesan").value = "";
    }

    function tampilKomentar() {
      const box = document.getElementById("daftarKomentar");
      db.ref("komentar").on("value", snapshot => {
        box.innerHTML = "";
        const data = snapshot.val();
        if (!data) return;
        const keys = Object.keys(data).reverse();
        keys.forEach(id => {
          const k = data[id];
          box.innerHTML += `
            <div class="comment-item" data-id="${id}">
              <strong>${k.nama}</strong><br>
              <span class="pesan">${k.pesan}</span><br>
              <button onclick="editKomentar('${id}')">✏️ Edit</button>
              <button onclick="hapusKomentar('${id}')">🗑️ Hapus</button>
            </div>`;
        });
      });
    }

    function hapusKomentar(id) {
      if (confirm("Yakin hapus komentar ini?")) {
        db.ref("komentar/" + id).remove();
      }
    }

    function editKomentar(id) {
      const teks = document.querySelector(`.comment-item[data-id="${id}"] .pesan`).textContent;
      const hasil = prompt("Edit komentar:", teks);
      if (hasil !== null) {
        db.ref("komentar/" + id).update({ pesan: hasil });
      }
    }

    tampilKomentar();
  </script>
</body>
</html>
